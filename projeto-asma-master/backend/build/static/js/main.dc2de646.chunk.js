(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{30:function(e,t,a){e.exports=a(58)},35:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(25),c=a.n(r),m=(a(35),a(6)),o=a(2),i=a(9),u=a(10),s=a.n(u),d="/api/patients",E=function(){return s.a.get(d).then((function(e){return e.data}))},f=function(e){return s.a.get("".concat(d,"/").concat(e)).then((function(e){return e.data}))},v=function(e){return s.a.post(d,e).then((function(e){return e.data}))},p=function(){var e=Object(n.useState)(void 0),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),o=Object(i.a)(c,2),u=o[0],s=o[1],d=Object(n.useState)(""),f=Object(i.a)(d,2),p=f[0],b=f[1],h=Object(n.useState)(""),g=Object(i.a)(h,2),N=g[0],j=g[1];Object(n.useEffect)((function(){E().then((function(e){return r(e)}))}),[]);return l.a.createElement("div",{style:{width:"250px"}},l.a.createElement("h1",null,"Pacientes"),l.a.createElement("div",null,l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),void 0===a.find((function(e){return e.name===u}))?v({name:u,phone:p,fitbitId:N}).then((function(e){r(a.concat(e)),b(""),s("")})).catch((function(){return alert("nao foi possivel adicionar paciente")})):alert("Pessoa j\xe1 adicionada")}},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"nameInput"},"Nome:"),l.a.createElement("input",{value:u,onChange:function(e){return s(e.target.value)},className:"form-control",id:"nameInput"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"phoneInput"},"Telefone:"),l.a.createElement("input",{value:p,onChange:function(e){return b(e.target.value)},className:"form-control",id:"phoneInput"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"fitbitIdInput"},"ID Fitbit:"),l.a.createElement("input",{value:N,onChange:function(e){return j(e.target.value)},className:"form-control",id:"fitbitIdInput"})),l.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Adicionar"))),a?l.a.createElement("div",{className:"list-group my-3"},a.map((function(e){return l.a.createElement(m.b,{to:"pacientes/".concat(e.id,"/resumo"),key:e.id,className:"list-group-item list-group-item-action text-primary"},e.name)}))):l.a.createElement("div",{className:"d-flex align-items-center my-3"},"Carregando...",l.a.createElement("div",{className:"spinner-border ml-auto",role:"status","aria-hidden":"true"})))},b=function(){return l.a.createElement("div",{className:"border-right border-bottom border-left p-3"},l.a.createElement("h4",null,"Resumo"))},h=a(29),g=function(e,t){return s.a.get("".concat("/api/patients/data","/").concat(e,"/").concat(t)).then((function(e){return e.data}))},N=function(e){var t=""+(e.getMonth()+1),a=""+e.getDate(),n=e.getFullYear();return t.length<2&&(t="0"+t),a.length<2&&(a="0"+a),[n,t,a].join("-")},j=function(e){var t=e.id,a=Object(n.useState)([]),r=Object(i.a)(a,2),c=r[0],m=r[1];return Object(n.useEffect)((function(){for(var e=[],a=new Date,n=0;n<5;n++)e.push(g(t,N(a))),a.setDate(a.getDate()-1);Promise.all(e).then((function(e){for(var t=new Date,a=function(a){var n=e[a];m((function(e){return e.concat({data:N(t),numPassos:n.summary.steps,minutosAtivos:n.summary.fairlyActiveMinutes+n.summary.lightlyActiveMinutes+n.summary.veryActiveMinutes,minutosSedentarios:n.summary.sedentaryMinutes})})),t.setDate(t.getDate()-1)},n=0;n<5;n++)a(n)}))}),[t]),l.a.createElement("div",{className:"border-right border-bottom border-left p-3"},l.a.createElement("h4",null,"Dados"),l.a.createElement(h.a,{striped:!0,bordered:!0,hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Data"),l.a.createElement("th",null,"n\xba de passos"),l.a.createElement("th",null,"Horas ativas"),l.a.createElement("th",null,"Horas Sedentarias"))),l.a.createElement("tbody",null,c.map((function(e){return l.a.createElement("tr",{key:e.data},l.a.createElement("td",null,e.data),l.a.createElement("td",null,e.numPassos),l.a.createElement("td",null,e.minutosAtivos/60),l.a.createElement("td",null,e.minutosSedentarios/60))})))))},y=function(){return l.a.createElement("div",{className:"border-right border-bottom border-left p-3"},l.a.createElement("h4",null,"Metas"))},O=function(){var e=Object(n.useState)({}),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(o.f)().id;Object(n.useEffect)((function(){f(c).then((function(e){return r(e)}))}),[c]);var u=Object(o.g)().url;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement("div",null,"Nome: ",a.name),l.a.createElement("div",null,"Telefone: ",a.phone),l.a.createElement("div",null,"Idade: "),l.a.createElement("div",null,"Tipo de asma: "),l.a.createElement("div",null,"Observa\xe7\xf5es: "),l.a.createElement("div",null,"\xdaltima Consulta: "),l.a.createElement("div",null,"ID Fitbit: ",a.fitbitId),l.a.createElement("a",{href:"https://young-hollows-35414.herokuapp.com/auth/fitbit"},"Conectar ao Fitbit")),l.a.createElement("br",null),l.a.createElement("ul",{className:"nav nav-tabs"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(m.c,{to:"".concat(u,"/resumo"),className:"nav-link"},"Resumo")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(m.c,{to:"".concat(u,"/dados"),className:"nav-link"},"Dados")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(m.c,{to:"".concat(u,"/metas"),className:"nav-link"},"Metas"))),l.a.createElement(o.c,null,l.a.createElement(o.a,{path:"".concat(u,"/resumo")},l.a.createElement(b,null)),l.a.createElement(o.a,{path:"".concat(u,"/dados")},l.a.createElement(j,{id:c})),l.a.createElement(o.a,{path:"".concat(u,"/metas")},l.a.createElement(y,null))))},k=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"Home"))},D=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"Ajuda"))},I=function(){return l.a.createElement(m.a,null,l.a.createElement("header",{className:"navbar navbar-dark bg-dark"},l.a.createElement("h1",{className:"navbar-brand"},"Dashboard")),l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-3 col-md-2 bg-light py-3 border"},l.a.createElement("nav",{className:"nav nav-pills flex-column"},l.a.createElement(m.c,{className:"nav-item nav-link",exact:!0,to:"/"},"Home"),l.a.createElement(m.c,{className:"nav-item nav-link",to:"/pacientes"},"Pacientes"),l.a.createElement(m.c,{className:"nav-item nav-link",to:"/FAQ"},"FAQ"),l.a.createElement(m.c,{className:"nav-item nav-link",to:"/ajuda"},"Ajuda"))),l.a.createElement("main",{className:"col-sm-9 col-md-10 bg-white p-4"},l.a.createElement(o.c,null,l.a.createElement(o.a,{path:"/pacientes/:id"},l.a.createElement(O,null)),l.a.createElement(o.a,{path:"/pacientes"},l.a.createElement(p,null)),l.a.createElement(o.a,{path:"/ajuda"},l.a.createElement(D,null)),l.a.createElement(o.a,{path:"/"},l.a.createElement(k,null)))))),l.a.createElement("footer",{className:"container-fluid text-center bg-dark text-muted p-3"},"O c\xf3digo desse site est\xe1 dispon\xedvel no ",l.a.createElement("a",{href:"https://github.com/bmnascimento/projeto-asma"},"GitHub")))};c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(I,null)),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.dc2de646.chunk.js.map