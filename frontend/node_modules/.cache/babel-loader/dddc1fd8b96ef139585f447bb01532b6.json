{"ast":null,"code":"import _slicedToArray from\"/home/bernardo/Projects/projeto-asma/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import patientService from'../services/patients.js';var ListaPacientes=function ListaPacientes(){var _useState=useState(undefined),_useState2=_slicedToArray(_useState,2),patients=_useState2[0],setPatients=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),newName=_useState4[0],setNewName=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),newPhone=_useState6[0],setNewPhone=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),newFitbitId=_useState8[0],setNewFitbitId=_useState8[1];useEffect(function(){patientService.getAll().then(function(response){return setPatients(response);});},[]);var handleSubmit=function handleSubmit(event){event.preventDefault();var foundPatient=patients.find(function(patient){return patient.name===newName;});if(foundPatient===undefined){patientService.create({name:newName,phone:newPhone,fitbitId:newFitbitId}).then(function(response){setPatients(patients.concat(response));setNewPhone('');setNewName('');}).catch(function(){return alert('nao foi possivel adicionar paciente');});}else{alert('Pessoa já adicionada');}};return/*#__PURE__*/React.createElement(\"div\",{style:{width:'250px'}},/*#__PURE__*/React.createElement(\"h1\",null,\"Pacientes\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"nameInput\"},\"Nome:\"),/*#__PURE__*/React.createElement(\"input\",{value:newName,onChange:function onChange(event){return setNewName(event.target.value);},className:\"form-control\",id:\"nameInput\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"phoneInput\"},\"Telefone:\"),/*#__PURE__*/React.createElement(\"input\",{value:newPhone,onChange:function onChange(event){return setNewPhone(event.target.value);},className:\"form-control\",id:\"phoneInput\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"fitbitIdInput\"},\"ID Fitbit:\"),/*#__PURE__*/React.createElement(\"input\",{value:newFitbitId,onChange:function onChange(event){return setNewFitbitId(event.target.value);},className:\"form-control\",id:\"fitbitIdInput\"})),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-primary\"},\"Adicionar\"))),patients?/*#__PURE__*/React.createElement(\"div\",{className:\"list-group my-3\"},patients.map(function(patient){return/*#__PURE__*/React.createElement(Link,{to:\"pacientes/\".concat(patient.id,\"/resumo\"),key:patient.id,className:\"list-group-item list-group-item-action text-primary\"},patient.name);})):/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center my-3\"},\"Carregando...\",/*#__PURE__*/React.createElement(\"div\",{className:\"spinner-border ml-auto\",role:\"status\",\"aria-hidden\":\"true\"})));};export default ListaPacientes;","map":{"version":3,"sources":["/home/bernardo/Projects/projeto-asma/frontend/src/Pacientes/ListaPacientes.js"],"names":["React","useState","useEffect","Link","patientService","ListaPacientes","undefined","patients","setPatients","newName","setNewName","newPhone","setNewPhone","newFitbitId","setNewFitbitId","getAll","then","response","handleSubmit","event","preventDefault","foundPatient","find","patient","name","create","phone","fitbitId","concat","catch","alert","width","target","value","map","id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Link } from 'react-router-dom'\nimport patientService from '../services/patients.js'\n\nconst ListaPacientes = () => {\n  const [ patients, setPatients ] = useState(undefined) \n  const [ newName, setNewName ] = useState('')\n  const [ newPhone, setNewPhone ] = useState('')\n  const [ newFitbitId, setNewFitbitId ] = useState('')\n\n  useEffect(() => {\n    patientService.getAll().then(response => setPatients(response))\n  }, [])\n  \n  const handleSubmit = event => {\n    event.preventDefault()\n\n    const foundPatient = patients.find(patient => patient.name === newName)\n    if (foundPatient === undefined) {\n      patientService.create({ name: newName, phone: newPhone, fitbitId: newFitbitId })\n        .then(response => {\n          setPatients(patients.concat(response))\n          setNewPhone('')\n          setNewName('')\n        })\n        .catch(() => alert('nao foi possivel adicionar paciente'))\n    } else {\n      alert('Pessoa já adicionada')\n    }\n  }\n\n  return(\n    <div style={{ width: '250px' }}>\n        <h1>Pacientes</h1>\n\n        <div>\n          <form onSubmit={handleSubmit}>\n            <div className=\"form-group\">\n              <label htmlFor=\"nameInput\">Nome:</label>\n              <input value={newName} onChange={event => setNewName(event.target.value)} className=\"form-control\" id=\"nameInput\"/>\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"phoneInput\">Telefone:</label>\n              <input value={newPhone} onChange={event => setNewPhone(event.target.value)} className=\"form-control\" id=\"phoneInput\"/>\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"fitbitIdInput\">ID Fitbit:</label>\n              <input value={newFitbitId} onChange={event => setNewFitbitId(event.target.value)} className=\"form-control\" id=\"fitbitIdInput\"/>\n            </div>\n            <button type=\"submit\" className=\"btn btn-primary\">Adicionar</button>\n          </form>\n        </div>\n\n        {patients ?\n          <div className=\"list-group my-3\">\n          {patients.map(patient => \n            <Link\n              to={`pacientes/${patient.id}/resumo`}\n              key={patient.id}\n              className=\"list-group-item list-group-item-action text-primary\"\n            >\n                {patient.name}\n            </Link>\n          )}\n          </div>\n          :\n          <div className=\"d-flex align-items-center my-3\">\n            Carregando...\n            <div className=\"spinner-border ml-auto\" role=\"status\" aria-hidden=\"true\"></div>\n          </div>\n          }\n    </div>\n  )}\n\nexport default ListaPacientes"]},"metadata":{},"sourceType":"module"}