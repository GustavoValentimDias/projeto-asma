{"ast":null,"code":"import _slicedToArray from\"/home/bernardo/Projects/projeto-asma/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import patientService from'./services/patients.js';var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),patients=_useState2[0],setPatients=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),newName=_useState4[0],setNewName=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),newPhone=_useState6[0],setNewPhone=_useState6[1];useEffect(function(){patientService.getAll().then(function(response){return setPatients(response);});},[]);var handleSubmit=function handleSubmit(event){event.preventDefault();var foundPatient=patients.find(function(patient){return patient.name===newName;});if(foundPatient===undefined){patientService.create({name:newName,phone:newPhone}).then(function(response){setPatients(patients.concat(response));setNewPhone('');setNewName('').catch(function(response){return console.log(response.error);});});}else{alert('Pessoa já adicionada');}};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"Pacientes\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"div\",null,\"Nome: \",/*#__PURE__*/React.createElement(\"input\",{value:newName,onChange:function onChange(event){return setNewName(event.target.value);}})),/*#__PURE__*/React.createElement(\"div\",null,\"Telefone: \",/*#__PURE__*/React.createElement(\"input\",{value:newPhone,onChange:function onChange(event){return setNewPhone(event.target.value);}})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"button\",{type:\"submit\"},\"Adicionar\"))),/*#__PURE__*/React.createElement(\"ul\",null,patients.map(function(patient){return/*#__PURE__*/React.createElement(\"li\",{key:patient.name},patient.name,\" \",patient.phone);})));};export default App;","map":{"version":3,"sources":["/home/bernardo/Projects/projeto-asma/frontend/src/App.js"],"names":["React","useState","useEffect","patientService","App","patients","setPatients","newName","setNewName","newPhone","setNewPhone","getAll","then","response","handleSubmit","event","preventDefault","foundPatient","find","patient","name","undefined","create","phone","concat","catch","console","log","error","alert","target","value","map"],"mappings":"oKAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,cAAP,KAA2B,wBAA3B,CAEA,GAAMC,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,EAAM,eACkBH,QAAQ,CAAC,EAAD,CAD1B,wCACRI,QADQ,eACEC,WADF,8BAEgBL,QAAQ,CAAC,EAAD,CAFxB,yCAERM,OAFQ,eAECC,UAFD,8BAGkBP,QAAQ,CAAC,EAAD,CAH1B,yCAGRQ,QAHQ,eAGEC,WAHF,eAKhBR,SAAS,CAAC,UAAM,CACdC,cAAc,CAACQ,MAAf,GAAwBC,IAAxB,CAA6B,SAAAC,QAAQ,QAAIP,CAAAA,WAAW,CAACO,QAAD,CAAf,EAArC,EACD,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAC,KAAK,CAAI,CAC5BA,KAAK,CAACC,cAAN,GAEA,GAAMC,CAAAA,YAAY,CAAGZ,QAAQ,CAACa,IAAT,CAAc,SAAAC,OAAO,QAAIA,CAAAA,OAAO,CAACC,IAAR,GAAiBb,OAArB,EAArB,CAArB,CACA,GAAIU,YAAY,GAAKI,SAArB,CAAgC,CAC9BlB,cAAc,CAACmB,MAAf,CAAsB,CAAEF,IAAI,CAAEb,OAAR,CAAiBgB,KAAK,CAAEd,QAAxB,CAAtB,EACGG,IADH,CACQ,SAAAC,QAAQ,CAAI,CAChBP,WAAW,CAACD,QAAQ,CAACmB,MAAT,CAAgBX,QAAhB,CAAD,CAAX,CACAH,WAAW,CAAC,EAAD,CAAX,CACAF,UAAU,CAAC,EAAD,CAAV,CACDiB,KADC,CACK,SAAAZ,QAAQ,QAAIa,CAAAA,OAAO,CAACC,GAAR,CAAYd,QAAQ,CAACe,KAArB,CAAJ,EADb,EAED,CANH,EAOD,CARD,IAQO,CACLC,KAAK,CAAC,sBAAD,CAAL,CACD,CACF,CAfD,CAiBA,mBACE,4CACE,0CADF,cAEE,4BAAM,QAAQ,CAAEf,YAAhB,eACE,qDACQ,6BAAO,KAAK,CAAEP,OAAd,CAAuB,QAAQ,CAAE,kBAAAQ,KAAK,QAAIP,CAAAA,UAAU,CAACO,KAAK,CAACe,MAAN,CAAaC,KAAd,CAAd,EAAtC,EADR,CADF,cAIE,yDACY,6BAAO,KAAK,CAAEtB,QAAd,CAAwB,QAAQ,CAAE,kBAAAM,KAAK,QAAIL,CAAAA,WAAW,CAACK,KAAK,CAACe,MAAN,CAAaC,KAAd,CAAf,EAAvC,EADZ,CAJF,cAOE,4CACE,8BAAQ,IAAI,CAAC,QAAb,cADF,CAPF,CAFF,cAaE,8BACG1B,QAAQ,CAAC2B,GAAT,CAAa,SAAAb,OAAO,qBACnB,0BAAI,GAAG,CAAEA,OAAO,CAACC,IAAjB,EAAwBD,OAAO,CAACC,IAAhC,KAAuCD,OAAO,CAACI,KAA/C,CADmB,EAApB,CADH,CAbF,CADF,CAqBD,CA/CD,CAiDA,cAAenB,CAAAA,GAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport patientService from './services/patients.js'\n\nconst App = () => {\n  const [ patients, setPatients ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newPhone, setNewPhone ] = useState('')\n\n  useEffect(() => {\n    patientService.getAll().then(response => setPatients(response))\n  }, [])\n  \n  const handleSubmit = event => {\n    event.preventDefault()\n\n    const foundPatient = patients.find(patient => patient.name === newName)\n    if (foundPatient === undefined) {\n      patientService.create({ name: newName, phone: newPhone })\n        .then(response => {\n          setPatients(patients.concat(response))\n          setNewPhone('')\n          setNewName('')\n        .catch(response => console.log(response.error))\n        })\n    } else {\n      alert('Pessoa já adicionada')\n    }\n  }\n\n  return (\n    <div>\n      <h1>Pacientes</h1>\n      <form onSubmit={handleSubmit}>\n        <div>\n          Nome: <input value={newName} onChange={event => setNewName(event.target.value)} />\n        </div>\n        <div>\n          Telefone: <input value={newPhone} onChange={event => setNewPhone(event.target.value)} />\n        </div>\n        <div>\n          <button type=\"submit\">Adicionar</button>\n        </div>\n      </form>\n      <ul>\n        {patients.map(patient => \n          <li key={patient.name}>{patient.name} {patient.phone}</li>\n        )}\n      </ul>\n    </div>\n  )\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}